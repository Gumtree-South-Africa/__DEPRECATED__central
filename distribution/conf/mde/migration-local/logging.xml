<!-- This is a logback logging configuration file. It is automatically refreshed 
	every 60s - therefore no need to restart RTS when modifying the settings 
	here -->
<!-- LOOKS LIKE A BROKEN CONFIG? It's not, this is just a fragment that will 
	be included from logback.xml. -->
<included>

	<appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
		<encoder>
			<pattern>%d %-5level [%thread] %-35logger{35}: %msg %n</pattern>
		</encoder>
	</appender>

	<appender name="FILE"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<file>${logDir}/replyts.log</file>
		<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>${logDir}/replyts.log.%d.gz</fileNamePattern>
			<maxHistory>5</maxHistory>
		</rollingPolicy>
		<encoder>
			<pattern>%d{HH:mm:ss.SSS} %-5level %-35logger{35}: %msg %n</pattern>
			<outputPatternAsPresentationHeader>false</outputPatternAsPresentationHeader>
		</encoder>
	</appender>

	<!-- <appender name="GELF" class="com.ecg.de.kleinanzeigen.replyts.gelflb.GelfLogbackAppender"> 
		<graylog2ServerHost>kgraylog46-1</graylog2ServerHost> <graylog2ServerPort>12201</graylog2ServerPort> 
		</appender> -->

	<logger name="com.ecg" level="DEBUG" />
	<logger name="com.ebay.ecg.sanitychecks" level="ERROR" />

	<logger name="com.ecg.de.ebayk.messagecenter" level="DEBUG"/>
	<logger name="com.ecg.replyts" level="DEBUG"/>
	<logger name="com.ecg.de" level="DEBUG"/>
	<logger name="com.ebay.ecg.sanitychecks" level="INFO"/>

	<!-- hadoop logger -->
	<logger name="hadoop_daily_report_v2" level="info" additivity="false">
		<appender name="HADOOP_DAILY"
			class="ch.qos.logback.core.rolling.RollingFileAppender">
			<encoder>
				<pattern>%msg%n</pattern>
				<outputPatternAsPresentationHeader>false</outputPatternAsPresentationHeader>
			</encoder>
			<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
				<fileNamePattern>${logDir}/hadoop-REPLYTS_EVENTS_v2.%d{yyyy-MM-dd}</fileNamePattern>
				<maxHistory>3</maxHistory>
			</rollingPolicy>
		</appender>
	</logger>

	<logger name="hadoop_filter_performance" level="info"
		additivity="false">
		<appender name="HADOOP_FILTER_PERFORMANCE"
			class="ch.qos.logback.core.rolling.RollingFileAppender">
			<encoder>
				<pattern>%msg%n</pattern>
				<outputPatternAsPresentationHeader>false</outputPatternAsPresentationHeader>
			</encoder>
			<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
				<fileNamePattern>${logDir}/hadoop-REPLYTS_FILTERPERFORMANCE.%d{yyyy-MM-dd}</fileNamePattern>
				<maxHistory>3</maxHistory>
			</rollingPolicy>
		</appender>
	</logger>


	<logger name="message-json-log" level="info" additivity="false">
		<appender name="HADOOP_DAILY"
			class="ch.qos.logback.core.rolling.RollingFileAppender">
			<encoder>
				<pattern>%msg%n</pattern>
			</encoder>
			<rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
				<fileNamePattern>${logDir}/hadoop-MESSAGE_EVENTS_v2.%d{yyyy-MM-dd}</fileNamePattern>
				<maxHistory>3</maxHistory>
			</rollingPolicy>
		</appender>
	</logger>


	<root level="INFO">
		<appender-ref ref="FILE" />
		<appender-ref ref="STDOUT"/>
		<!-- appender-ref ref="GELF" / -->
	</root>

</included>
