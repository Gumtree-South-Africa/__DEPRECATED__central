package com.ecg.comaas.mp.filter.bankaccount;

import com.ecg.comaas.mp.filter.bankaccount.BankAccountFilter;
import com.ecg.comaas.mp.filter.bankaccount.BankAccountFilterConfiguration;
import com.ecg.comaas.mp.filter.bankaccount.BankAccountFinder;
import com.ecg.comaas.mp.filter.bankaccount.DescriptionBuilder;
import com.ecg.replyts.core.api.model.conversation.Conversation;
import com.ecg.replyts.core.api.model.conversation.Message;
import com.ecg.replyts.core.api.pluginconfiguration.filter.FilterFeedback;
import com.ecg.replyts.core.api.processing.MessageProcessingContext;
import com.ecg.replyts.core.runtime.mailparser.ParsingException;
import org.apache.tika.io.IOUtils;
import org.junit.Before;
import org.junit.Test;
import org.mockito.Mock;

import java.io.IOException;
import java.io.InputStream;
import java.util.Arrays;
import java.util.List;

import static org.hamcrest.MatcherAssert.assertThat;
import static org.hamcrest.core.Is.is;
import static org.junit.Assert.assertTrue;
import static org.mockito.Mockito.when;
import static org.mockito.MockitoAnnotations.initMocks;

public class CrashingTheBankAccountFilter {

    @Mock private DescriptionBuilder descriptionBuilder;
    @Mock private Conversation conversation;
    @Mock private Message message;
    @Mock MessageProcessingContext messageProcessingContext;

    @Before
    public void setup() {
        initMocks(this);
    }

    @Test(timeout = 10L * 1000L)
    public void realWorldCrasher1() throws Exception {
        testMail("20120720-1.eml", 0);
    }

    @Test(timeout = 10L * 1000L)
    public void realWorldCrasher2() throws Exception {
        testMail("20120720-2.eml", 0);
    }

    @Test(timeout = 10L * 1000L)
    public void realWorldCrasher3() throws Exception {
        testMail("20120722-1.eml", 0);
    }

    @Test(timeout = 120L * 1000L)
    public void realWorldCrasher4() throws Exception {
        testMail("20120722-2.eml", 1);
    }

    private void testMail(String mailResource, int bankAccountNumberMatchCount) throws ParsingException, IOException {
        double maxDurationMillisPerAccount = bankAccountNumberMatchCount == 0 ? 0.15 : 3.0;

        BankAccountFilterConfiguration config = new BankAccountFilterConfiguration(BANK_ACCOUNTS);
        BankAccountFinder bankAccountFinder = new BankAccountFinder(config);
        BankAccountFilter filter = new BankAccountFilter(bankAccountFinder, descriptionBuilder);

        when(conversation.getAdId()).thenReturn("whatever");
        when(messageProcessingContext.getConversation()).thenReturn(conversation);
        when(messageProcessingContext.getMessage()).thenReturn(message);

        InputStream textStream = CrashingTheBankAccountFilter.class.getResourceAsStream(mailResource);
        String text = IOUtils.toString(textStream, "utf-8");

        when(message.getPlainTextBody()).thenReturn(text);

        long warmUpCount = 10;
        for (int i = 0; i < warmUpCount; i++) {
            List<FilterFeedback> filterFeedbacks = filter.filter(messageProcessingContext);
            assertThat(filterFeedbacks.size(), is(bankAccountNumberMatchCount));
        }

        long start = System.currentTimeMillis();
        List<FilterFeedback> filterFeedbacks = filter.filter(messageProcessingContext);
        assertThat(filterFeedbacks.size(), is(bankAccountNumberMatchCount));
        long duration = System.currentTimeMillis() - start;
        // HTML Rendering takes 100ms on average for these emails. Subtract that before doing avg calculations:
        double durationPerPattern = (double) (duration - 100) / BANK_ACCOUNTS.size();
        System.out.printf("Total time: %d ms, per account: %.3f ms\n", duration, durationPerPattern);
        assertTrue(
                String.format("Too slow, %.3f ms per account, expected less then %.3f ms",
                        durationPerPattern, maxDurationMillisPerAccount),
                durationPerPattern < maxDurationMillisPerAccount);
    }

    private static final List<String> BANK_ACCOUNTS = Arrays.asList(
            // Randomly generated accounts:
            "6720053990", "6443148143", "9456538806", "4861546595", "3444036543", "3460986425", "6106455272", "7061891477", "7176277485", "1607931464",
            "2695021500", "986886795", "5311468744", "2021704970", "9800571855", "3284583621", "3175951126", "6167593478", "938718234", "8792959293",
            "3733928959", "9781826063", "2697164090", "6947070954", "3458170458", "2141074705", "9414299712", "8437616219", "655726035", "8133064641",
            "2734041045", "4264490641", "2859686551", "9158777577", "4063884035", "3506753726", "3629272728", "3989061389", "3670264406", "9433162654",
            "8931845402", "7002745142", "5702207147", "29512434", "9533357345", "6278381164", "9441234471", "2385263127", "8253341528", "2547285891",
            "6536953695", "2308119018", "7706733356", "8002776796", "6572788859", "9975497165", "5296157731", "9153217232", "7405517200", "2866833724",
            "2671937383", "6146939529", "2218595165", "9679104294", "3420964502", "9208962004", "9086817407", "1359580796", "6688294970", "1277235044",
            "5801354328", "2333258575", "115758762", "6116334374", "6149091490", "429179564", "2089034787", "3943451167", "4110495778", "1791754665",
            "3980148369", "1295601960", "6506711830", "4695835093", "5673447799", "7540892707", "1174235296", "5786408649", "286112517", "1717650105",
            "1813729829", "3702063485", "2295922258", "1955113519", "6424949066", "9791642710", "9107850359", "1846693563", "2181081458", "1140054546",
            "6356382916", "5218059207", "4283441961", "9248141396", "7704828669", "2747837523", "5733308886", "2546188449", "4432116411", "338735560",
            "8192058972", "1909917352", "2729696935", "7200199071", "3341947329", "5386956221", "1803041858", "7460810550", "4896481979", "9033226055",
            "6565662358", "9744539202", "2907868850", "1931493560", "1575253931", "6647665588", "5750937615", "837425983", "5620688220", "6365320562",
            "9350495122", "6202009485", "9858975889", "1207410180", "139455928", "6040195041", "2937950588", "6224064631", "9706946962", "7197454916",
            "993543417", "2298213055", "1796653988", "478542422", "8389173353", "4107364162", "8498782691", "8040120966", "8363175805", "5114859024",
            "8900548200", "3198238371", "7966153657", "1381530263", "2917790184", "3511535366", "560541178", "2978216048", "6339726249", "6540629638",
            "6143252099", "6644704150", "7833035052", "2625617830", "8388254727", "4092970800", "2624405149", "6956254320", "2471763850", "473840505",
            "451104208", "2420648291", "4558263714", "8056603293", "1010729411", "7635688565", "1340606286", "6989776864", "6270075220", "555517980",
            "9649650591", "9709959439", "7544933396", "5772176098", "5941328013", "2591446822", "4811735228", "8150258888", "8154434431", "3426231617",
            "6779962534", "8300424442", "3032414804", "4119636439", "8871906105", "1132688763", "243512023", "1669723453", "1876853448", "8532120215",
            "164944002", "6994673750", "7630608355", "1972848321", "3016337356", "6807529579", "5567846886", "1791710659", "4688016274", "8229529111",
            "6123351606", "4628655238", "9529750065", "723560491", "6654548593", "4230855002", "6848613056", "7071043164", "4437800284", "9141262328",
            "3512207851", "9689876622", "494430793", "2566102729", "9960818488", "1471896696", "2425694721", "1108234626", "2848837754", "5713938706",
            "6735280002", "2087267617", "2178739710", "2726805733", "3823014560", "7006525824", "597803208", "5337189477", "7717942602", "2436284385",
            "7084591525", "1248279495", "669789851", "1323742705", "7089540737", "5317144437", "6950005486", "7004227666", "488508519", "6141535949",
            "1590886041", "5462022812", "4452115042", "8137757371", "7740218456", "7830278251", "4146120124", "404023631", "3361601542", "4389504893",
            "6320008745", "7727792384", "1028497588", "7877478943", "3155686123", "9091465987", "8815745207", "6623593176", "5479524281", "4235885799",
            "7938559508", "7066342681", "6240523472", "5563783630", "6382674780", "4498156217", "5598108820", "2660083743", "7534007502", "9666095101",
            "1553483955", "1761240934", "3309254425", "9559173408", "6414965364", "6932135072", "8640560688", "1015542389", "6262831829", "8993789602",
            "209114710", "3092630679", "9389871027", "8563485892", "5035860592", "7404552615", "3221679744", "9229953837", "7318426496", "2431856955",
            "6264597453", "5557479272", "2207791973", "1808542972", "6223607646", "9847704217", "4253251658", "4201650103", "6986960166", "1512414091",
            "9721193418", "9302842571", "8105623155", "9673349493", "6371176358", "1692790341", "9876568825", "3526426677", "4066903111", "9779085360",
            "6618825109", "9893172868", "3792540021", "5810922277", "2736789985", "3760411909", "8085987537", "1989308742", "8339949114", "1791552321",
            "6138610202", "8269123509", "1437655917", "6361462992", "7188761562", "9557278388", "4068610173", "419323288", "4208496968", "4539549026",
            "5795840858", "1914829149", "5669731403", "6402805310", "3491403239", "7567062763", "5701287068", "6842729017", "9280754329", "840836323",
            "169239748", "889202669", "8815823788", "4612498097", "4009712006", "2385463688", "6074677822", "5320389891", "6017346225", "4165940120",
            "4429783809", "6932595746", "769475086", "9687848470", "2167451861", "3170695911", "2930306155", "2556457946", "4781879365", "2905563145",
            "9445452242", "3261797129", "6256208609", "6386461192", "3749341102", "6749431865", "7005578737", "7745761889", "6577715974", "9578028065",
            "8651124225", "8263817648", "2469461220", "9990564010", "319609718", "3170243053", "3109890070", "9148280815", "8614584687", "9568563276",
            "7835422061", "8008329114", "2028391927", "1440533934", "182734053", "2239852544", "2575777219", "5780563140", "9538953550", "2138585412",
            "8549387297", "4129573785", "4276065378", "6559997261", "8242949608", "3409042091", "4323677896", "2658431955", "5652691442", "7825587272",
            "4319481769", "4254742869", "2427816828", "971951229", "2967020678", "2885113876", "864332381", "9319597761", "7956484742", "407636651",
            "6833336903", "6644382619", "9171414343", "4991738789", "3639989308", "4606555540", "3374506030", "3310007746", "1998100450", "8794957658",
            "3384121620", "6421510990", "6866594309", "1426649567", "6066176928", "8615605619", "5011783027", "2978742562", "1642248870", "4966482548",
            "3677449020", "4676114367", "3685165326", "5386403673", "9583420863", "3959100159", "3634425825", "2641534806", "4719675664", "1928091877",
            "5741149261", "8310415361", "9501625081", "571522689", "2920392839", "2552978927", "3531645618", "1755224928", "9184678989", "6366980870",
            "4023808862", "6224269732", "1831794587", "7842668503", "5216689191", "5225441667", "9231284782", "5903957250", "924170382", "2918938088",
            "8274212603", "904253668", "3255310973", "2542081226", "7069217053", "4157611512", "1589129364", "3378712667", "5907937083", "9934670619",
            "2928664053", "6139061416", "8946887495", "5344465375", "636113488", "6484711263", "669328337", "1599514123", "2138050905", "3583559074",
            "2499185003", "2339558117", "2119614663", "7536908660", "1380670990", "9375223067", "970859497", "1253695120", "9702514264", "3264798472",
            "6579325508", "4448417288", "6146841361", "91889694", "92567804", "1030126251", "2984944227", "322488248", "581215196", "3358939100",
            "1436885618", "326435217", "5267587629", "401174785", "2568804581", "6224786208", "3175395783", "5357241870", "171851759", "1962980134",
            "233581323", "8258584436", "1162668834", "662991259", "7000515476", "5431032411", "6220581669", "8586334405", "1605080132", "9512048807",
            "1194500513", "2169066475", "2769712376", "8208997704", "7541130647", "7275787936", "1504417003", "1841740744", "6862136982", "1116074777",
            "2741333621", "9457307782", "5795945664", "7538204620", "9483592876", "3053819244", "6385877184", "6912894329", "362666025", "9792268039",
            "8634233036", "8277467327", "6704725342", "2282684066", "4473941725", "1203128926", "7858687551", "649684042", "3589699968", "6261323194",
            "7708781122", "1417810375", "2426911130", "6879352314", "5316221099", "9634723286", "3723031094", "139201627", "5313293440", "6389390009",
            "4443168344", "2653434244", "4113841871", "8308640611", "2647198459", "4686339728", "4889621074", "2961274976", "6500210687", "3552148110",
            "5310253982", "528775663", "9588561913", "8952412518", "1429582440", "6048723604", "1744341837", "2083407675", "6891929870", "825686101",
            "4085288244", "3440731549", "2620696339", "8207073731", "64698919", "7800880525", "3684601542", "5234057066", "5239789526", "8337023995",
            "939193105", "3644710121", "1200900261", "4434752848", "8299206259", "2547463802", "5493322166", "433022158", "749256300", "5291741786",
            "6692425723", "4100135872", "7789688809", "5535802793", "1580404307", "7124904622", "8762681339", "1119646500", "9221415024", "9734063079",
            "1528780867", "2262279294", "6846078426", "3780721021", "8192891555", "3330715306", "8491874098", "73690134", "5806232293", "9597359196",
            "2024171804", "8407667731", "9399397453", "3146850375", "1607153314", "3817284773", "8040561365", "7873205553", "2694782307", "4517475492",
            "2483249161", "7889689271", "8772517701", "8658474642", "3177059752", "9724208626", "7181167545", "6404737863", "7734980577", "7287868220",
            "3348812824", "8546503428", "3899003263", "9528095305", "2350813770", "3124519764", "2193421957", "6032027838", "3874563125", "1271244210",
            "2995741163", "748782487", "6661754656", "1909586694", "8333295369", "8060840957", "2651840507", "6681598945", "2169959669", "9604472209",
            "7267599521", "1517429631", "347190621", "4174324286", "1881184081", "9034433658", "2374149839", "6733660450", "3995008452", "2851470064",
            "965284965", "5337517711", "1024779496", "9876653615", "3017492703", "3617015463", "2114970646", "1006592262", "1374984938", "9635069586",
            "4014445293", "2268055054", "1176062496", "4924136078", "1770660557", "5424537791", "6384214826", "1352480776", "7895480898", "5989590077",
            "1288652743", "6414343133", "1262638483", "459213047", "1810316564", "493291970", "9596816411", "278151469", "6735676318", "5158692904",
            "8189261850", "4138137722", "5954090262", "5797899395", "9171759450", "8484347273", "7363998318", "6668882241", "5989875919", "3307486813",
            "3799284814", "9278001794", "9668588405", "9560397653", "9687179939", "7734053712", "7961872912", "9456532324", "2360913355", "8223837257",
            "640778777", "9064970132", "4678901759", "6460339445", "3146147411", "8781793750", "2640292928", "9310736576", "9490563240", "8310504191",
            "5615447198", "8587137869", "8601832951", "5478188523", "808791447", "4476499794", "2897613028", "8423942293", "1596402074", "571967255",
            "4252324580", "1787345443", "1494650726", "1014885747", "5326770842", "5667965851", "1183822036", "7383104438", "8926875257", "2582484296",
            "67189350", "2467728579", "5827878661", "6898939361", "1902045817", "5488486314", "1701590501", "8979791204", "8029817525", "8504345918",
            "5086740553", "7927873375", "3508555305", "5438372020", "672119007", "2454529118", "2680524694", "4108287527", "1462490118", "4253452735",
            "431715639", "7625203244", "2731301043", "1741825923", "595773022", "8053756947", "8329718197", "7148548708", "4585316726", "848714017",
            "5589316019", "8133863618", "3041384409", "172600499", "2109738513", "9786731871", "2291834446", "7494585352", "1104474174", "5744842869",
            "1195715860", "6918265259", "8377308361", "4758269953", "7858371163", "7092518141", "3507716247", "5310505875", "3597125817", "3881608100",
            "7925479586", "9492910513", "3582527163", "4447941947", "3622446001", "3700788182", "7137474892", "6322456242", "4574067074", "3574585408",
            "2878569814", "3332463182", "1874687570", "6259090870", "6336416582", "6834731792", "7840335762", "4337405067", "1289122574", "6258086661",
            "5736776136", "6771644191", "374876853", "5738745775", "891410223", "5723551885", "4648691395", "2541993673", "5036889238", "6008508087",
            "5293893624", "3680349915", "986716957", "4948523615", "190628754", "3391767216", "5673087197", "4503337624", "3559469290", "3348392158",
            "1165636388", "3392544287", "4300267613", "2665852004", "3081660864", "511696160", "519993765", "8644042693", "7303747062", "5188625723",
            "5798938539", "2167912679", "3787914352", "9992418389", "9299415787", "356176877", "5648521759", "681564980", "4119506687", "5233685660",
            "420604530", "9038368438", "3651693170", "7631314206", "544553218", "2626844264", "1442549507", "1801005553", "2396625344", "267720962",
            "7686935520", "8954791829", "6535727928", "1944800724", "608324244", "9245526351", "3998635010", "7029634402", "583686160", "3440920147",
            "3548668062", "1828767870", "1446587998", "1691318552", "3997311067", "6261094753", "2035405880", "6272926903", "1310297706", "6746322306",
            "5791352393", "2000715063", "5325048619", "944138080", "2903136010", "9294110311", "7236749931", "5222603819", "9131249711", "8503162937",
            "2079620663", "8596534214", "2662703988", "1213198345", "7440741758", "5036481009", "7710464175", "8515618745", "5866884227", "4040332249",
            "3822217892", "3877107605", "2220292359", "9106295373", "5047888462", "1120627606", "5310255620", "4182578125", "7174308448", "3514940181",
            "7186472895", "8125901326", "138028065", "3164176957", "1182917195", "1325053991", "8755071599", "6959058526", "5167377800", "9817934264",
            "350666294", "7324949257", "6426096152", "6857222959", "3817745767", "492572245", "4304827332", "959267179", "7763502137", "8318698275",
            "2878128498", "734361483", "9563593027", "4457700356", "4596127037", "8701968278", "8434317162", "2049049275", "6686632620", "6314134564",
            "345503695", "9872854340", "6613357870", "7853292915", "3855192631", "2571885806", "5933744845", "6548914570", "3054731034", "9767512400",
            "8176893178", "2605000607", "3136733654", "8093681082", "9315781996", "5838513744", "2341720865", "994983279", "975883763", "4541107720",
            "7027206989", "9342698432", "9347528334", "9180990438", "7305112835", "5434715454", "9792893253", "4704903093", "4991975523", "3726590333",
            "2338781864", "6699039104", "328959531", "8579660539", "8979470459", "9344827468", "967581435", "4936444179", "471491223", "8616843061",
            "95751052", "4546166858", "5660418250", "4519580377", "3855701795", "2202834270", "1888973283", "2692156227", "4861678074", "3042158221",
            "1114360894", "2363987608", "269405563", "2484347931", "2456044574", "4726997822", "194315696", "9463215875", "9532553202", "8066988767",
            "2191343993", "6178424709", "6784031801", "7008174132", "1565266117", "5482442560", "4112648237", "4992116015", "9009641903", "7431564934",
            "6075304051", "5750497837", "483764874", "5867592845", "5640163993", "4884060678", "1470463998", "8376913938", "9857699817", "625652712",
            "9243838955", "927381570", "7717793976", "3161448389", "3611458301", "4621029209", "236246097", "1910814365", "6686371150", "1350528113",
            "9297269861", "5598524806", "2724917273", "831834325", "1246643814", "4955278788", "6851272465", "4121760565", "9169164757", "6896789264",
            "4870502724", "7860740921", "6853757124", "2556925294", "8536633412", "6667794543", "9175370167", "945334566", "7774649474", "1242895405",
            "3410533881", "9265361588", "2090980557", "7334416163", "6542351230", "7315776542", "9716940656", "5565062079", "546843375", "4881211620",
            "5356074079", "7439776329", "9866872890", "5083578200", "9087372985", "8275745305", "8976830575", "5146113231", "2558414666", "3302186795",
            "672780006", "6328887061", "2519574748", "1917925513", "9757679411", "7083509572", "8058660373", "9589689700", "5152211013", "7415748203",
            "6972684006", "5641649051", "4695821201", "5965672954", "4163584066", "5215072299", "5651479648", "6185689977", "2750128233", "4304854494",
            "38895457", "7726169133", "9190335884", "2117869250", "1518704779", "4808968895", "9371109231", "3240437930", "7089998196", "1463823723",
            "9337003126", "7606875135", "8299202468", "98611858", "8044517710", "1820019796", "7092364382", "2882075893", "5815801412", "8031764029",
            "161437973", "8402005027", "3264859555", "5656162096", "427619050", "659377226", "4380278543", "740113023", "9898714147", "4758968685",
            "6871065257", "7469032098", "5561534498", "9978342734", "4668106761", "8894026461", "3541033448", "4728619237", "4337407226", "6238374821",
            "3259513527", "326200197", "5012879159", "1332748735", "5580231150", "3784238332", "3700597781", "5086197059", "8939067482", "6641089811",
            "2528758635", "2762662716", "76895792", "5573657646", "3730711802", "8166369532", "7202176426", "8730506671", "135011667", "3876193060",
            "8123452929", "7821289233", "7241563289", "1620302101", "6675701768", "9743170952", "108384486", "6240265526", "2992502720", "8620618264",
            "988971520", "5275306491", "5414508944", "745448224", "1023546799", "8368742585", "865192307", "6633141030", "4282732844", "4119196269",
            "2445986247", "6302526600", "2567142529", "7695777135", "9099806100", "5644964472", "4035653170", "1846713828", "850034429", "1443284905",
            "7414814955", "1446488436", "8169646345", "2930491872", "9106236330", "1048066755", "6176471408", "4303367509", "3643106069", "9547009094",
            "5559384450", "8675399153", "6559676830", "9966482803", "9659725211", "516191044", "4390556619", "3171790070", "8364299493", "2852835568",
            "5186279924", "2010286595", "8101640932", "7578495737", "6578259903", "4827972240", "6127479597", "8064466614", "9010763337", "3611199540",
            "9190967953", "9554409878", "5653246629", "1608148550", "8006318084", "282387966", "4842198310", "6532932897", "4352076702", "4501140442",
            "3302087252", "8804774303", "4390639405", "6471865805", "8388322327", "5816080737", "1765601165", "3910984233", "5075645933", "9012437576",
            "499275067", "2363088138", "2572876052", "739363793", "3019811384", "9966542308", "6035282499", "7767575356", "2106481673", "5865892240",
            "8506986474", "2715716509", "2138820921", "3376390613", "3527035849", "1444884213", "2197221438", "3751494381", "1732222006", "1872822543",
            "8739044282", "5283341400", "7508343162", "283224384", "9567370131", "4207993325", "8797968882", "1956203709", "2719075492", "5480288330",
            "3683940724", "9956394299", "1295802350", "4665906369", "1400898069", "9094144175", "437530117", "2447647542", "2613240954", "1014413443",
            "8204472802", "2492045183", "3457663629", "9893424352", "1853207365", "5149362672", "8918932112", "9727969079", "7516731830", "1907352194",
            "2088948901", "2605001127", "7328878181", "6721385031", "3372366891", "3740942824", "671090943", "2669590860", "7583578193", "4691118602",
            "2842337266", "611495546", "5800296402", "8134228805", "1790101846", "6459982280", "979262557", "9700426067", "9932858401", "9777277617",
            "3727973696", "160557604", "2288370048", "1020274440", "8231248238", "6301647681", "3787850817", "6178261652", "3088542378", "2711458980",
            "6592176368", "3940130594", "7573397564", "8877145839", "6981560807", "7327037019", "6368542396", "6602646652", "3041482738", "5515867519",
            "1683620639", "2584655681", "8709333118", "7076685577", "8244976498", "1935273208", "8314367361", "1187420928", "5956941296", "9219306964",
            "3725241265", "7856988530", "5984976546", "5076041864", "8195126853", "5793150136", "8598500347", "6119387215", "8589319168", "4314355395",
            "1324494699", "7912161305", "5793346944", "3295280539", "916251878", "5919083687", "5162299819", "3172767004", "9892332550", "8222219223",
            "2942709291", "8027201247", "5664687179", "3205577004", "9104765184", "2073890367", "9287660550", "951193322", "1409777277", "3823316741",
            "1656698764", "8469762514", "170359677", "2508880424", "4629693015", "8132143147", "8931148092", "9182409502", "7730296045", "3028753504",
            "7996949616", "4782081070", "4055554413", "162265213", "1464561179", "4358239285", "2144164454", "2600032669", "3018161351", "2800203505",
            "1331028683", "326225369", "3487049904", "5653256862", "9126764619", "16299378", "5928291896", "7160439989", "6818462029", "7986683303",
            "4455016971", "7450254772", "1765786765", "6104036609", "1530258749", "6775712565", "6186924663", "9651621240", "8005266910", "1446225695",
            "8921306173", "213244796", "2036628164", "3746299259", "1603234805", "6877213606", "7888978249", "3168889158", "6122577452", "7482364510",
            "8072410393", "931928303", "8677978535", "7709197272", "899935611", "8412319559", "3612554237", "3876374152", "5348503218", "1609793336",
            "802266954", "4301418220", "6942773607", "9191873539", "3608743081", "6011211728", "5666451120", "4186766624", "8162473861", "6864128749",
            "8017737325", "6495940951", "3011139420", "3282953634", "8880920329", "6546362483", "3106745415", "292422759", "9248934213", "3718406586",
            "8584092908", "9433821902", "118954762", "7990615567", "6470320364", "4096978586", "2321399941", "8669860990", "7010802693", "6357966629",
            "6168351842", "1718797359", "2721875928", "2186390520", "7081346930", "3662003762", "7840702707", "3877187429", "7287583002", "8498291533",
            "6558463621", "6529698119", "8442116729", "4510825147", "4628672096", "7010607620", "2028149549", "4165077805", "1290307189", "1069214106",
            "7935710684", "8134282415", "2110007623", "1228869806", "4265495795", "1172093217", "7385147596", "7170868254", "3925669644", "9751413864",
            "8346075345", "4929946934", "1068672018", "4993824473", "463379340", "1135598548", "6512485673", "4528136556", "1525900738", "3370497189",
            "4109624988", "2320689073", "2640531147", "588003858", "3027563937", "8353219848", "5687350332", "6430985665", "6287606149", "2101760130",
            "5946672293", "4798618062", "7271915669", "1177871019", "3140965646", "6135066319", "9676251220", "4154191986", "545109829", "8926905342",
            "4368084491", "3490663981", "6692026412", "4416033088", "2310410347", "4744241357", "1668762374", "9073804059", "2615790456", "5697487914",
            "5523929836", "8242177678", "6631622145", "9241958832", "380343474", "354025435", "114968100", "3099497779", "4325384359", "4298824734",
            "2074471971", "5473347399", "7578180466", "6303474100", "9177314381", "391875675", "1484917358", "1587424194", "3995583612", "3108882217",
            "3553340568", "1885185446", "3410263206", "2706313220", "9282361626", "1304487735", "1518079133", "9367062366", "6207134552", "9374988108",
            "7801871837", "7576700874", "6190742735", "5271534571", "2746834621", "5006597008", "2057074288", "9761003275", "4015175805", "6626582338",
            "3188769157", "6023976309", "5957291064", "8814769227", "7659902263", "8926986547", "8038735383", "4943282882", "8658025936", "359078108",
            "2605610687", "6450431482", "9193474284", "6584292356", "4508468458", "4177437367", "5688486942", "5373789413", "3678008857", "8176811988",
            "4442065657", "4391713979", "9510135338", "6770606062", "4033246718", "2313987636", "622513026", "3608128473", "1783480136", "3183808751",
            "295263842", "3497362650", "1749754039", "5269522437", "7423355056", "3340319279", "1037630940", "9488515130", "7382152211", "5554120049",
            "4795265504", "2548243852", "9470909745", "58210241", "988528175", "1176063501", "6998052842", "2662379750", "1139369749", "8470134756",
            "2127832122", "2223860102", "4153945363", "1192711679", "7469574135", "2741998643", "7699145790", "5445125424", "8943765925", "9309665586",
            "1285220606", "8748079164", "5450655769", "7522248052", "4461168099", "8671425611", "3803771084", "4427356515", "559786719", "7674444144",
            "2866550214", "5872895151", "8683475956", "8173740902", "7528490200", "1678154840", "5053359804", "2597486982", "4255373101", "592721156",
            "5523526741", "3206583293", "521225013", "5128086522", "1265095659", "2929760894", "9441133013", "9023564405", "7159735846", "6983222520",
            "6513589182", "2175768952", "372833414", "3344838250", "7610718816", "6525618197", "7113165731", "3193280199", "6812806311", "4595217650",
            "6216673346", "1820886299", "4350307063", "1976650902", "7579638637", "2126207469", "5477698244", "8740951942", "8340377778", "2224288064",
            "5563544954", "8726665736", "9630764075", "8297577345", "2340644660", "8119714392", "9262062771", "9738160930", "3284970369", "3639757389",
            "1763426730", "3689905688", "53675702", "6210426228", "3361374583", "1805389790", "1416419631", "7487426716", "2501188846", "7721648515",
            "1483297552", "89121386", "5657913122", "7948288627", "479026177", "3514551304", "8887545344", "277781252", "8484010377", "8250129359",
            "6315434775", "5540143190", "411878442", "2972315547", "9957302772", "2742592546", "7276177255", "9900686421", "9940255663", "6774200786",
            "9756287856", "3643773265", "2552645863", "2113310606", "1919913785", "1401707769", "1630058290", "1631013423", "2794836993", "3064427027",
            "2513809635", "3351409005", "5192084588", "6269404159", "3397409209", "6555335936", "6418497036", "7613343108", "6396031279", "651496965",
            "154372687", "9436945765", "1565470847", "7174071592", "520401583", "3031111651", "8889222859", "2104971367", "1475284151", "236214439",
            "5934317640", "897307536", "5660443925", "7747882700", "1018479669", "6273433414", "2085253078", "4853027388", "1701009732", "9556926050",
            "9878225244", "5664643427", "4800617864", "661332071", "2960557536", "3857620518", "435871339", "5860912538", "209711257", "7439367179",
            "6812009641", "8017033477", "1102604387", "9936035918", "3382285707", "1283420962", "6965890691", "4956910209", "6157988285", "3128475255",
            "8676813690", "440697571", "2833656177", "8891157766", "1609674592", "4844511699", "3839329854", "1505852545", "9931264557", "6515528158",
            "5705423677", "7336355700", "5273750164", "461772185", "5576352441", "9162207532", "269080400", "121500245", "6014085554", "1206915265",
            "8797282973", "3169856060", "7412289529", "530329384", "815949920", "3558676368", "5619196816", "2346788033", "33214418", "8100838574",
            "6242395920", "284688861", "6202651710", "4834901740", "5272066868", "6015587048", "5948462449", "9002833104", "9403570676", "8030768552",
            "5161417088", "9482808222", "6582628552", "7983793908", "6800069466", "3149016694", "9951373484", "8473799408", "5307117483", "6472650004",
            "1528744211", "2159212971", "4793683469", "4524115598", "2590629702", "2222233623", "8079257397", "1784855439", "4519637810", "5321055211",
            "9746191642", "9487082226", "6793586037", "7711960643", "3645979515", "8535603489", "67953552", "843109274", "9629646887", "9347562775",
            "377095436", "5468661135", "9860047259", "7187598839", "8715180585", "6048723674", "2373702785", "1142127343", "3159910817", "2633020060",
            "6940154312", "5230022543", "876165068", "8283584744", "9234155642", "9979025002", "7179673415", "5442407389", "6146458397", "8296586937",
            "1904960991", "6110678042", "4342358552", "4177745583", "347801443", "4397037457", "667460131", "3988374378", "2417156651", "2272811668",
            "4408158853", "7598120877", "7987657031", "7465440341", "5054327171", "735481945", "1801054886", "297933810", "5011306827", "4079276457",
            "8011121402", "2377551405", "1744037845", "9379355270", "2003908072", "7375303777", "5255214974", "5362048112", "7377532004", "4963585237",
            "1025140288", "5765524064", "9255321517", "4309688151", "7320960402", "852333934", "2335083352", "4537026558", "9609269873", "4754215073",
            "7543500415", "2260435868", "4236837443", "5828315749", "2665844808", "9347882928", "2812776824", "7330450869", "7296436381", "324538257",
            "3521532157", "8115384339", "9963385192", "2293093248", "9009904162", "6662806071", "2576350832", "3500791802", "8988017156", "5957386217",
            "5107434513", "53551102", "5427838146", "640520738", "5479096722", "5790929731", "414659637", "3138659454", "5057679127", "7271488158",
            "7837567083", "7068298606", "4194038678", "9517404683", "9245342084", "2233580163", "1684096783", "597831213", "8338792368", "3431887000",
            "2296516875", "6195676644", "1894155326", "5876057892", "4239001979", "6122336030", "2251585252", "8122997502", "8980070126", "2585809911",
            "2075323166", "2493968590", "8003489774", "5375173699", "6995679071", "7889774026", "2522082802", "5971665329", "4474883527", "9571336132",
            "9489990434", "6898468631", "8347134021", "4402311243", "2537241489", "563152565", "7671449038", "6958660658", "1554204039", "2157619083",
            "8023140873", "3397589006", "8404239767", "2259407676", "298157616", "6981516396", "3875524318", "7905059073", "636924757", "9125472330",
            "1907200295", "9213249132", "6539922403", "7476092913", "5478696127", "5984045167", "6623249915", "8497120260", "2366231144", "3513958148",
            "8413122914", "1939032836", "5921552657", "7541747226", "5100618110", "6792652621", "6236324351", "9631814900", "9449145351", "9315624596",
            "2925703878", "2076282540", "9034134634", "5174971191", "7515877761", "4535560016", "6920834099", "3884747446", "9319900824", "5541218792",
            "3602525492", "5491811400", "2411165683", "86106007", "4411782405", "2138180012", "110809657", "2920608682", "5362900396", "7618649177",
            "5743528825", "9183997815", "1967107256", "5143522592", "5139884474", "2006538772", "829167202", "5396415232", "7997390588", "3007026027",
            "6700375562", "9295461710", "2762341219", "6384316675", "4377250809", "1821125412", "1212145094", "231474168", "9646850290", "1677358929",
            "1476926968", "8438664185", "4815983327", "6733521947", "5348356058", "6416988886", "456155936", "8618504825", "6218497509", "1584429311",
            "339347754", "1545844814", "8312453031", "6731150348", "6687860316", "5231384759", "3577516610", "7715583101", "4889418559", "1178722437",
            "1377581073", "1947112489", "3175780958", "6908694602", "334286275", "336852343", "2862835883", "1035088799", "6391210631", "2845330619",
            "6782992985", "5923746765", "2632315815", "3905729222", "1691002881", "595987513", "1953328863", "5737207552", "3105632435", "6358938426",
            "2898869974", "4768369846", "6797002223", "4186757461", "6371437130", "8793808751", "6144954693", "4063488251", "162941515", "2071224381",
            "5292907708", "1419341763", "9930665323", "5586377869", "7069023208", "4555899650", "5031917213", "5761622081", "8426461846", "2427653686",
            "6903878242", "1503290370", "7981763513", "6385828302", "7862959312", "6944423030", "6592878523", "4503291066", "8943299800", "4501542264",
            "6672719098", "3607216881", "3965326286", "9127436200", "228614736", "217908602", "7752636961", "6868926148", "2395141932", "9088143861",
            "8658597329", "2024923898", "8973589753", "3810195813", "9666162833", "6952696125", "5052228987", "257552911", "8640282791", "5600528213",
            "4569164596", "2709008254", "3441850693", "1002625130", "2263544763", "1066245696", "7956128847", "9039847876", "3845806474", "587089578",
            "5648631870", "2173852736", "6829529444", "3282087842", "9355250473", "8641924248", "4218593135", "3301532475", "9139706891", "1234819085",
            "576115314", "7958260166", "8696706349", "8450612783", "1573880262", "3256505777", "9401907686", "8344731525", "1161634474", "5193200093",
            "5061125455", "9456952971", "8704206272", "7275958613", "9821659891", "7916629607", "1497945290", "1904566244", "2096410309", "6033047637",
            "2313775523", "8875643932", "4230266206", "9349215906", "4271816969", "9717179717", "7780423579", "7065106456", "2486565186", "9102559552",
            "4397803441", "7167371779", "7244539221", "8400621466", "331661511", "7058815978", "9754210279", "2666860274", "8411597047", "2019072833",
            "5398906400", "9828592868", "2490747617", "8560209053", "3065455344", "8547510009", "7009217871", "7373265731", "6005453816", "3482513191",
            "9509703943", "9729889247", "4998170196", "8636118865", "3105119002", "6390290309", "145306342", "3375472336", "6563547842", "3441467768",
            "2661471874", "215207241", "9461293070", "1964912931", "7438072702", "686115723", "7954950765", "1891293964", "1122032584", "2279747555",
            "2982014997", "8476392464", "4780269280", "7292766457", "1171735979", "6449283806", "3992646412", "2196007648", "8167581499", "7699170115",
            "5981708601", "4110955392", "4942038165", "8863450183", "7764111716", "1840060583", "4450864285", "5368658231", "1491298612", "6690230673",
            "2006936805", "6235767863", "6301255370", "1713676380", "4477439782", "3579172466", "6431226298", "2036709977", "6694757425", "1640904528",
            "4857067483", "41733768", "5910024078", "2063914654", "6414148070", "3677228698", "1207641823", "6461933039", "7498670276", "2538180022",
            "992963119", "4848456123", "7019270898", "2989579505", "2193579099", "7982601057", "3758947907", "4169081571", "5326091569", "5582577234",
            "4836799335", "7588995093", "8703669686", "7502920821", "9305065739", "4948504331", "2725224619", "1917377462", "4708447034", "4964287727",
            "7140395044", "5499024766", "7650278964", "1217919915", "3881480951", "9919332561", "3732626592", "8524787288", "3138217984", "9391431137",
            "3171157141", "8872821923", "3626950685", "7476606399", "3919588626", "6993291456", "7833158509", "314896018", "3014575739", "4014770164",
            "5652946442", "6993346428", "4372192032", "209975216", "3314484116", "3258323941", "1297719172", "1641434226", "5502501564", "4233041129",
            "7106859974", "2545842350", "4854584334", "5098450166", "5075079960", "6436703598", "3666335657", "4762927719", "9199394779", "4200729506",
            "6304788554", "5907057258", "5921457844", "8474484026", "8422176962", "6106896938", "121042299", "9762947118", "8246581345", "2161482060",
            "2918378998", "9256089640", "5200562978", "5633962066", "2070888692", "2096564558", "5124220892", "2706523607", "573419432", "7708029261",
            "6264413932", "8402277308", "5307773873", "6859413515", "3054869067", "1029478409", "2404455216", "333181515", "3382614134", "2624816686",
            "6680306882", "4380218122", "3538911810", "677382384", "186926495", "6014663459", "8644635770", "4227900065", "8980373918", "2968216004",
            "8753485764", "1615711491", "6000508710", "662697854", "1645104852", "4937125615", "2718694427", "7259953293", "2965183500", "5413160333",
            "3252085364", "1846585777", "2928391417", "6039187575", "8073578886", "8659786034", "668740990", "8595775112", "3045423000", "9251615388",
            "41562645", "426278253", "8850465154", "3484316556", "6925262545", "5827926184", "7723347653", "7145938732", "6831625707", "9754873563",
            "8607271316", "660075063", "9910257280", "7890058277", "9165461823", "1960160046", "1948571592", "2611439166", "5791587626", "2546449613",
            "6705078081", "2431865971", "2226484186", "6398148841", "6185914727", "8005773584", "455803124", "3396064453", "4360445067", "2171904956",
            "5091573585", "4565818492", "6858776467", "8216931401", "5931814686", "9753155476", "6263704583", "3605575936", "3785180351", "8545000529",
            "158731093", "7049714367", "3947078175", "6614449859", "2941791693", "1934834185", "6059806304", "97857596", "8509803398", "4731606936",
            "9852357262", "6519934058", "9651529707", "9574676969", "2987967968", "7276982811", "2425421081", "9402987635", "202604505", "2141295722",
            "4777783799", "6199104134", "1089736419", "9176034438", "9109162146", "786040589", "9792098309", "5333602809", "461082142", "3140446369",
            "6028048613", "3987590923", "5073546152", "5788719320", "7874139951", "5193085153", "6972994349", "4655273563", "9254989620", "5937641556",
            "6556698230", "2567379896", "4466408212", "7362089034", "5334985396", "1391183188", "414129274", "8923893620", "566342250", "9330945780",
            "7524811611", "5138430543", "2709957623", "4189269198", "2029914105", "9647830104", "306130370", "4343811663", "5775139314", "5466637840",
            "2185382205", "3303428776", "3406214118", "7255311640", "7991171758", "8605940343", "7640066849", "4748546121", "7569523060", "7829267562",
            "6175251351", "9517074454", "620667681", "130639777", "2178309022", "4440040241", "1981481419", "9788142406", "2437428009", "960873331",
            "879337838", "5005749787", "4521397725", "5088394171", "4325158427", "7411170768", "9920704999", "7664816572", "3642626105", "7665822916",
            "9649651094", "6765920673", "5594825018", "2785471632", "9040328979", "781579032", "9886299736", "1077909611", "7908781553", "4127074307",
            "1891080591", "1465392627", "8201940288", "606600139", "9416398661", "749244283", "5341342635", "9386879261", "1323039948", "3196862505",
            "3556127278", "9795331213", "4700229354", "7947565803", "5798522177", "6574970076", "5727925985", "4420096697", "7243481130", "9810713981",
            "4258226816", "3657909315", "7177980974", "9710522231", "9636780252", "1525999632", "2803434328", "8115745346", "9037860627", "6878836473",
            "3689362908", "9501595728", "4311931915", "2779311071", "4878093252", "7367497124", "3326369236", "7853059176", "8171222584", "3633099315",
            "7961309350", "3538059618", "6877629461", "838371302", "6980530915", "8933347026", "274158928", "6865422166", "8176485270", "943504922",
            "289176409", "7716728451", "8552124501", "4596327272", "3437596095", "3168843896", "9603229037", "2660652660", "5937673513", "1145863444",
            "5759847458", "4430861421", "191115032", "2493500160", "5201062225", "7786422991", "3640048224", "6187667761", "5636267694", "2878251762",
            "9567880667", "344266163", "9815941876", "946539093", "9485432423", "2473136296", "3422096241", "3016847636", "7157246677", "7709378286",
            "2221238886", "4478260185", "7024243465", "299113254", "1638227376", "9250252365", "4922872873", "7528444122", "8747942491", "2970743561",
            "9518229476", "9005406652", "2478349657", "5381087850", "7656239418", "9834410976", "6337190096", "3776713187", "5528482069", "9606668636",
            "5865567275", "2720619136", "2872828424", "680208999", "7561259824", "7642448222", "3809720250", "518208739", "8086774585", "1877758933",
            "5107540227", "8349753024", "2980373834", "87410543", "1108710745", "2601259556", "4236501282", "8352368014", "9847744472", "4502256551",
            "8029740122", "1649391150", "3167212749", "6544821948", "2286658947", "3258605418", "4402771230", "5311328258", "7233213482", "2827554352",
            "2272253771", "3926378162", "2699229229", "2690472380", "8999496813", "6812448467", "6138631113", "7564148149", "5894999946", "7872748317",
            "5668260807", "6557117895", "4925560633", "9831378305", "889380486", "5767646112", "9782501337", "9860782063", "4693898158", "5080335086",
            "2574417484", "3172809279", "1578236046", "9948729294", "8795286537", "4368098369", "4660462001", "5970759140", "9827251352", "6026998080",
            "2817302791", "3434265235", "1555968152", "6095109368", "4391574582", "2069461936", "6964932019", "1086127990", "5783078483", "132138162",
            "4251200454", "1328801162", "2439199709", "5686224664", "5628892020", "3608082719", "3648777891", "5481476116", "3342424069", "7427085337",
            "5976892352", "2743184496", "5068984883", "2686116431", "2969708520", "4877751579", "5855581727", "3652962119", "2763030266", "3960616228",
            "8408311292", "3723548879", "3874628878", "6699615294", "4654630649", "193055083", "8658460059", "5405876597", "6336523642", "470264760",
            "2357263501", "3218474224", "5093056276", "473560754", "9169225670", "1960101002", "3262441253", "535166591", "7547669573", "5002414611",
            "2549893674", "142785850", "262764414", "2989596921", "4953385899", "3363878605", "3698122872", "8594821408", "7125382992", "304492270",
            "5065156503", "2647469142", "192571985", "7465428967", "2988917769", "5532879248", "2234431146", "4338950718", "2059516847", "7013572263",
            "7915732225", "3747996804", "5080350773", "216816883", "5586201866", "8288610298", "3249121995", "5129365594", "9726370450", "3842819729",
            "5026155706", "8290650818", "7368070522", "2791277196", "6616743407", "4484060202", "8610934667", "4093013344", "3025686811", "270087284",
            "1122770755", "4476825692", "1494852775", "8739869987", "1000619455", "6311624042", "5507989473", "5126106695", "8956798472", "3879970954",
            "9840728602", "2441795903", "450493843", "631458062", "7201128227", "1975315876", "5010918238", "1769418907", "9099043502", "4165341108",
            "4322228302", "6623004581", "4367284930", "9911593404", "9715292445", "6926503833", "7711466053", "9135207295", "3158125552", "2681699409",
            "9897215984", "280167880", "5658990782", "4128962718", "7981076553", "3650891527", "1721111755", "1866394823", "9221528303", "4679390662",
            "5516218453", "7636931218", "2215685522", "8972370985", "4019807060", "753854487", "9206388225", "3303486312", "3992949932", "8408354633",
            "4402578737", "6341421334", "8618614092", "2189859654", "4307419876", "4446264159", "7277103381", "4252354698", "710323032", "8979241435",
            "176208383", "1435770208", "2531678185", "6948208517", "3853625932", "6160780163", "1073783808", "9229376156", "1147248352", "463545130",
            "3151753339", "1005403964", "5667468694", "169502282", "3105069282", "9812743744", "1758894548", "4505710486", "4050585335", "1051247737",
            "8045754007", "6249365988", "2426019066", "7775965674", "4666031016", "5264348979", "2018804832", "5493464937", "5845210617", "490971116",
            "4456917624", "2682597359", "4842691714", "1369288277", "5467316816", "9332584220", "8078476148", "9019886826", "6189162537", "2100015649",
            "865264522", "6958085455", "2557127206", "8950837057", "7552337945", "3345988318", "7910431757", "2825868105", "2077846930", "2449576072",
            "4967250270", "7731079280", "3019425315", "1238322724", "840360901", "1864911173", "7523609441", "3129789124", "9013927137", "2050308486",
            "3804715824", "4619171025", "9908807842", "5435504632", "7900974382", "3128259200", "7315628589", "7782595048", "4280045827", "6540720981",
            "4441356475", "5635574022", "5620533654", "996801232", "3700861328", "5951769604", "3106202332", "6808873644", "9828110846", "3224307951",
            "8863500879", "6524634920", "5040870558", "7848807223", "7674915062", "4050460199", "6231412188", "8178448827", "8195363513", "9333862754",
            "3758181836", "6322741077", "4377717290", "1243235211", "7000203705", "8405839311", "4026689267", "7836420081", "973364417", "4778177710",
            "7447325778", "9423536152", "1130469073", "5993917448", "8131969089", "7871325945", "5798212002", "4547002009", "251808531", "3013796993",
            "9420395916", "205144901", "3055320467", "2792794507", "1978312811", "9901164212", "7692695594", "9318174146", "4691247211", "362391490",
            "1275849448", "1822190624", "4691606654", "4131565593", "1396205546", "3533321391", "6705842313", "1597286608", "2060632025", "8190965027",
            "8138283266", "9933024250", "1856027869", "2130503429", "7306126107", "8923607089", "3720329725", "3000557385", "7735570864", "8842067258",
            "6648223851", "5464130658", "2749220812", "1950809028", "5082738394", "9403516540", "7405063117", "3543242669", "5376094415", "1833285830"
    );
}
