replyts.tenant=mp
cluster.jmx.enabled=false

mailreceiver.filesystem.dropfolder=--overridden by system property--
mailreceiver.retries=5
mailreceiver.retrydelay.minutes=5

mailcloaking.domains=mail.marktplaats.nl
mailcloaking.localized.buyer=a
mailcloaking.localized.seller=b
mailcloaking.seperator=-

replyts.maxConversationAgeDays=2
replyts.threadpool.size=1

# Filesystem based delivery
delivery.filesystem.outputdir=--not used--
delivery.filesystem.temp.prefix=.
delivery.filesystem.prefix=processed_
delivery.filesystem.postfix=.mail

# SMTP based mail delivery
delivery.smtp.host=localhost
delivery.smtp.port=--overridden by system property--
delivery.smtp.username=
delivery.smtp.password=

# How/where to persist to
persistence.strategy=cassandra

# Riak
# Hosts list is a comma separated list of host names or ip addresses.
persistence.riak.datacenter.primary.hosts=replyts.dev.kjdev.ca
persistence.riak.pb.port=8087
persistence.riak.maxConnectionsToRiakCluster=1
persistence.riak.connectionPoolSizePerRiakHost=1
persistence.riak.connectionTimeoutMs=1
persistence.riak.requestTimeoutMs=1
persistence.riak.idleConnectionTimeoutMs=1

# Local environments don't need to use the legacy secondary index
replyts.useAlsoOld2iForConversationResume=false
riak.cluster.monitor.enabled=false

# Elastic Search
search.es.clustername=replytscluster
search.es.endpoints=

#Elastic search sanity checks
sanity.es.timeframehours=1
sanity.es.endpoints=${search.es.endpoints}
sanity.es.cluster=${search.es.clustername}

automationTestMode=true

# Cassandra config (embedded Cassandra)
persistence.cassandra.core.endpoint=localhost:9042
persistence.cassandra.core.dc=datacenter1
persistence.cassandra.core.username=
persistence.cassandra.mb.endpoint=${persistence.cassandra.core.endpoint}
persistence.cassandra.mb.dc=${persistence.cassandra.core.dc}
persistence.cassandra.mb.username=${persistence.cassandra.core.username}
persistence.cassandra.consistency.read=LOCAL_QUORUM
persistence.cassandra.consistency.write=LOCAL_QUORUM

message.anonymization.pattern.0=\\b(?:<b>)?(From|To|Sender|Receiver|Van|Aan) *: *(?:</b>)? *<a[^>]+href="mailto:[^">]+@[^">]+"[^>]*>[^<]*</a
message.anonymization.pattern.1=\\b(?:<b>)?(From|To|Sender|Receiver|Van|Aan) *: *(?:</b>)? *(?:<[:a-z]+[^>]*>)?[^<>\\s]+@[^<>\\s]+(?:</[:a-z]+>)?
message.anonymization.pattern.2=<span[^>]*>(From|To|Sender|Receiver|Van|Aan) *: *</span *>[^<>]*(?:<[:a-z]+[^>]*>){0,2}[^<>\\s]+@[^<>\\s]+(?:</[:a-z]+>){0,2}
message.anonymization.pattern.3=<b><span[^>]*>(From|To|Sender|Receiver|Van|Aan) *: *</span *></b> *(?:<[:a-z]+[^>]*>)?[^<>\\s]+@[^<>\\s]+(?:</[:a-z]+>)?
message.anonymization.pattern.4=<span[^>]*><b>(From|To|Sender|Receiver|Van|Aan) *: *</b></span *> *(?:<[:a-z]+[^>]*>)?[^<>\\s]+@[^<>\\s]+(?:</[:a-z]+>)?
message.anonymization.pattern.5=\\b(From|To|Sender|Receiver|Van|Aan) *: *(<|&lt;)?[^<>\\s]+@[^<>\\s]+(>|&gt;)?
message.anonymization.pattern.6=\\b(From|To|Sender|Receiver|Van|Aan) *: *([^<>\\s]+ +){1,6}(<|&lt;)?[^<>\\s]+@[^<>\\s]+((<|&lt;)[^<>\\s]+@[^<>\\s]+(>|&gt;))?(>|&gt;)?
message.anonymization.pattern.7=\\b(From|To|Sender|Receiver|Van|Aan) *: *([^<>\\s]+ +){0,5}([^<>\\s]+)(<|&lt;)?[^<>\\s]+@[^<>\\s]+(>|&gt;)?
message.anonymization.pattern.8=Op.{10,25}schreef[^<]{5,60}<a[^>]+href="mailto:[^">]+@[^">]+"[^>]*>[^<]*</a
message.anonymization.pattern.9=Op.{10,25}schreef[^<]{5,60}(<|&lt;)?\\s*[^<>\\s]+@[^<>\\s]+(>|&gt;)?
message.anonymization.pattern.10=\\b(?:<b>)?(From|To|Sender|Receiver|Van|Aan) *: *(?:</b>)?[^<>]+(&lt;)[^<>\\s]+@[^<>\\s]+(&gt;)
message.normalization.pattern.0=\\n.*(a|b)-.*?@mail.marktplaats.nl.*\\n
message.normalization.pattern.1=(Aan|To)\\s?:.*?@.*?
message.normalization.pattern.2=(Subject|Onderwerp)\\s?:.*?
message.normalization.pattern.3=\\w*(?<!=[?=\n])(Date|Datum)\\s?:.*?
message.normalization.pattern.4=\\n.*<[^<>\\s]+@gmail.[^<>\\s]+>.*\\n

urlgateway.gatewayurl=http://gateway.marktplaats.nl/?url=[url]
urlgateway.skipdomains.0=*.marktplaats.nl
urlgateway.skipdomains.1=*.marktplaats.com
urlgateway.skipdomains.2=marktplaats.custhelp.com
urlgateway.skipdomains.3=www.marktplaatsmanieren.nl
urlgateway.skipdomains.4=images.emessaging.nl
urlgateway.skipdomains.5=www.websitevanhetjaar.nl
urlgateway.skipdomains.6=www.mijnpolitie.nl
urlgateway.skipdomains.7=marktplaats.force.com
urlgateway.skipdomains.8=marktplaats.emsecure.net

# Sendername post processor
sendername.buyer.name.pattern=%s via Marktplaats
sendername.seller.name.pattern=%s via Marktplaats

# Kafka publisher plugin
replyts.event.publisher.kafka.enabled=false
replyts.kafka.broker.list=localhost:9092
replyts.kafka.topic=conversations
